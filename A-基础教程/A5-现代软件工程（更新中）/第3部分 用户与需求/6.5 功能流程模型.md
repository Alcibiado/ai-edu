# 功能流程模型

## 系统上下文图（Context Diagram）

上下文图是需求分析的第一站，用于确定系统的边界，这对于整个系统的目标/非目系统标（Go/No Goal）是非常关键的。


我们先看第一张图：

<image src="Images/ContextDiagramRight.jpg">

整个图中有三种图例：

1. 待建系统本身

   中心位置是“AI教学系统”，我们把它看成黑盒子，因为在这个阶段，我们还没有对其进行分析，所以得不到细节。

2. 外部合作者
   
   包括两类：
   - 用户：人机交互。
   - IT 系统：使用计算机网络协议传递消息。

3. 数据/信息流

   有以下几个特点：

   - 都是名词，表示信息或者数据；也可以使用动词短语，比如“发送登录请求”，但要求所有信息流的文字是相同的形式，全是名词或者全是动词短语；
   - 可以是协议，也可以是数据格式；
   - 特定规范，如安全性、可用性、吞吐量等。
   
   这些信息将成为设计外部数据接口的依据。当然，在此图中，我们并没有写出所有的信息流，比如：

   - 学生可以提交作业，然后获得作业评分；
   - 老师可以发起命令保存手写板书，然后以邮件形式发送给学生；
   - 管理员可以开启/关闭教学系统。

我们再看第二张图：

<image src="Images/ContextDiagramWrong.jpg">

根据以上的规则，我们可以看到这张图中存在以下错误：

1. AI教学系统不是黑盒子，多画了两个内部的子系统；
2. 在学生与学生管理系统之间，不应该有那条虚线表示的联系，因为那不属于待建系统的范畴；
3. 在右侧弧形虚线之外，还有一些其它的用例，也不属于待建系统的范畴。

系统上下文图是软件需求分析中的一项很重要的内容，DFD（Data Flow Diagram，数据流图）最高层次的图，是系统功能的最高抽象。系统上下文图将整个系统看做是一个过程，这个过程实现系统的所有功能。所以上下文图中存在且仅存在一个过程，表示整个系统。

将整个系统功能抽象为单一过程之后，系统本身就变成了一个黑盒，此时只有依据系统与外界的所有交互才能准确界定系统的功能。所以，系统上下文图中需要表示出所有和系统有交互的外部实体，并描述交互的数据流，包括系统输入和输出。


## 用例图与用例说明

https://blog.csdn.net/weixin_42119415/article/details/82884022

用例图描述外部执法者与系统的交互，表达系统功能，即系统提供服务

1、主要元素用例和执行者

        用例：执行者与计算机一次典型交互，代表系统某一完整功能

        执行者：描述与系统交互的人或物，代表外部实体（如用户，硬件、设备等）

                直线表示关系

2、建立用户模型

        ①发现执行者

                谁使用该系统；谁改变系统的数据；谁从系统取信息；谁需要系统的支持以完成日常任务；谁负责维护管理并保持系统正常运行；系统需要应付那些硬件设备；系统需要和哪些外部系统交互；谁对系统运行产生的结果感兴趣；

        ②获取用例

               向执行者提出问题（从用户观点）

                       执行者需要获取何种功能，需要做什么；执行者需要读取产生、删除、修改或存储；系统发生时间和执行者间是否要通信；

                用户观点非系统观点

        ③执行者间关联：

                泛化关系：一般特殊关系（特殊者指向一般执行者）

        ④用例间关系

                泛化关系



                包含关系：一个基本用例包含另一个用例行为（要实现基本用例必须满足另一个用例行为）



                扩展关系：允许一个用例扩展另一个用例提供的功能，与泛化类似，但有更多限制：基本用例必须声明“扩展点”，扩展用例只能在扩展点上增加新行为


用例说明

|项目|内容|
|--|--|
|用例编号||
|用例名称||
|参与者||
|用例说明||
|前置条件||
|基本事件流||
|异常事件流||
|后置条件||



|与外部实体的接口||
## 数据流图
什么是数据流图？

数据流图（Data Flow Diagram）：简称DFD，它从数据传递和加工角度，以图形方式来表达系统的逻辑功能、数据在系统内部的逻辑流向和逻辑变换过程，是结构化系统分析方法的主要表达工具及用于表示软件模型的一种图示方法。

为什么要使用数据流图？

1）交流信息的工具

（2）分析和设计的工具

反应系统的业务逻辑
确定函数边界
数据流从输入到输出

可以自顶向下的分析系统信息流程
可在图上画出需要计算机处理的部分
进一步做数据分析，想数据库设计过渡
定出存取方式
用相应的语言，判定表等工具表达处理方法

数据流图的主要图形元素

 数据流建模（数据流图）
    描绘系统逻辑模型，图中没有具体的物理元素，只描绘信息在系统中流动处理情况。是非常好的通信工具和软件设计出发点。

1、数据流图符号

        正方形（立方体）：表数据的原点或终点

        圆角矩形（或圆形）：代表数据的处理

        开口矩形（或两条平行线）：代表数据存储（临时或永久：可能文件、文件的一部分、一个表、记录的一部分都行，不用考虑怎么存储）

        箭头：表数据流，即特定数据的流动方向（有流动的数据项或数据集合）

        数据流图附加符号



2、解法：

①从问题描述提取数据流图四种成分

                原点、终点、处理、数据流、数据存储

②着手画数据流图的基本系统模型

                即一个原点一个处理一个终点，确定边界

③把基本系统模型细化，描绘系统主要功能

④主要功能进一步细化

⑤结束，或进一步分解到涉及如何具体实现功能时，不再分解。

3、分层数据流图：为表达数据加工情况，需采用层次结构数据流图

        顶层、中间层、底层

        分层数据流图的几个问题

            ①编号的设置父为2则子为2.1、2.2 。。。

           ②父子图的平衡

           ③局部数据存储不用平衡

4、数据流图的命名规则

    ①数据流：用名词；代表整个数据流（数据存储）内容，不仅仅反应某些成分；不用缺乏具体含义的名字如“数据”“信息”等

    ②处理命名：用动宾词组，避免使用“加工”“处理”等笼统词；反应整个处理的功能，不是一部分功能；通常只包括一个动词，否则分解

    ③数据原点/终点：在问题域习惯用命（如“采购员”“学生”）

5、数据流图的用途

    ①作为交流信息工具

    ②作为分析和设计工具：自动化边界划分




3.功能模型

    状态模型
    表达系统的详细需求，为软件的进一步分析和设计打下基础。在面向对象方法中，由用例图和场景描述组成。
    描述系统功能
    完成数据值的变化
    做什么
    数据变换

用例图的作用主要是将活动图中不在系统范围内的部分过滤掉，只保留可以通过系统实现的活动。对于每一个人机交互的活动，需要细化分析其事件流，也就是当前活动里人机交互的详细过程，这个过程也可以通过活动图绘制。

      用例中的事件流是原型设计的重要输入来源，另一个输入来源是类图中的对象属性及对象间的关系。
       用例图示例如下图所示：

       在完成用例图后，需要进一步细化用例说明

