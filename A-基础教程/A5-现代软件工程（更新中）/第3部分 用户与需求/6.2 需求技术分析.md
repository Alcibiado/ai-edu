# 需求技术分析

面向对象的分析技术



在很多人推崇的 OOA（面向对象的分析）方法中，要求建立对象模型、动态模型、功能模型。其实 OOA 这个理论本身是一种系统分析的技能，对很多“需求分析”的内容并不涵盖。在很多资料上并没有介绍具体如何做，导致很多人在实践中把分析和设计阶段的任务混为一谈。

为什么这种情况能一直持续下去呢，另外一个原因是在一般的软件公司里，总会有一位“领域专家”，往往是他/她既做需求分析，又做系统分析与设计。在微软其实也是这样，没有各自独立的角色分别做需求分析和系统设计两件事，往往是一个从底层做起的程序员，逐渐成长为领域专家后，再去负责需求分析与系统设计的工作。这样做的问题是：

1. 他/她在做需求分析的时候，脑子里会不自觉地想到如何去实现；
2. 写出来的文档没有边界，定义出来的类会让后续的开发人员感觉到限制。

用一个简单的比喻帮助大家理理解它们的分界线：我们在做需求分析的时候，可以把每个角色、实体、模块等等都看作一个鸡蛋，它们在需求分析阶段都是不透明的，我们也不需要在需求分析阶段去窥探鸡蛋内部的构造，否则的话，我们会得到一堆破鸡蛋——所有的蛋液流出来并混在一起，造成无法进行下一步的分析。

分析类图和设计类图的区别

在软件开发的不同阶段都使用类图，但这些类图表示了不同层次的抽象。在需求分析阶段，类图是研究领域的概念；在设计阶段，类图重点描述类与类之间的接口。
由于分析类图主要描述应用领域中的概念，它们的类可以从这些概念中得出，或者说分析类图中的类是从需求中获取的。
设计类图描述软件的接口部分，而不是软件的实现部分。面向对象开发方法非常重视区别接口与实现之间的差异，可以用一个类型（Type）描述一个接口，这个接口可能因为实现环境、运行特性或者用户的不同而具有多种实现方式。设计类图更易于开发者之间的相互理解和交流。设计类图通常是在分析类图的基础上进行细化和改进的。

1. 写故事
2. 从故事中找出名词（对象）和动词（方法）
3. 画用例图
4. 画数据流图
5. 找出子系统
6. 找出模块组

三视图模型的各种命名方法


|视图|模型|动作|输出|
|--|--|--|--|
|对象|对象模型|结构建模，静态|实体关系模型，E-R图|
|动作|动态模型|行为建模，动态|数据流模型，状态图，活动图，对象交互图(工作流）（时序图，协作图，二者可用互换）|
|功能|功能模型|功能建模，状态|用例图|

系统分析=概要设计



建立对象模型

　　面向对象分析首要的工作，是建立问题域的对象模型。这个模型描述了现实世界中的“类与对象”以及它们之间的关系，表示了目标系统的静态数据结构。静态数据结构对应用细节依赖较少，比较容易确定；当用户的需求变化时，静态数据结构相对来说比较稳定。因此，用面向对象方法开发绝大多数软件时，都首先建立对象模型，然后再建立另外两个子模型。

　　对象模型通常有5个层次，基本的工作步骤是：首先确定对象类和关联（因为它们影响系统整体结构和解决问题的方法），对于大型复杂问题还要进一步划分不同主题；然后给类和关联添加属性，目的为进一步描述它们；接下来利用适当的继承关系进一步合并和组织类。而对类中操作的最后确定，则需要等建立了动态模型和功能模型之后，因为这两个子模型更准确地描述了对类中提供的服务的需求。

　建立动态模型

　　第一步，编写典型交互行为的脚本。虽然脚本中不可能包括每个偶然事件，但是，至少必须保证不遗漏常见的交互行为。

　　第二步，从脚本中提取出事件，确定触发每个事件的动作对象以及接受事件的目标对象。

　　第三步，排列事件发生的次序，确定每个对象可能有的状态及状态间的转换关系，并用状态图描绘它们。

　　最后，比较各个对象的状态图，检查它们之间的一致性，确保事件之间的匹配。

　　顺便解释一下什么是脚本，“脚本”原意是指“表演戏曲、话剧、拍摄电影、电视剧等所依据的本子，里面记载台词、故事情节等”。

　　在建立动态模型的过程中，脚本是指系统在某一执行期间内出现一系列事件。

　　建立功能模型

　　功能模型表明了系统中数据之间的依赖关系，以及有关的数据处理功能，它由一组数据流图组成。其中的处理功能可以用IPO图（或表）、伪码等多种方式进一步描述。通常在建立对象模型和动态模型之后再建立功能模型。


Object-Oriented Analysis:面向对象分析法
指的是在一个系统的开发过程中进行了系统业务调查以后，按照面向对象的思想来分析问题。OOA与结构化分析有较大的区别。OOA所强调的是在系统调查资料的基础上，针对OO方法所需要的素材进行的归类花分析和整理，而不是对管理业务现状和方法的分析。

OOA（面向对象的分析）模型由5个层次（主题层、对象类层、结构层、属性层和服务层）和5个活动（标识对象类、标识结构、定义主题、定义属性和定义服务）组成。在这种方法中定义了两种对象类之间的结构，一种称为分类结构，一种称为组装结构。分类结构就是所谓的一般与特殊的关系。组装结构则反映了对象之间的整体与部分的关系。

OOA在定义属性的同时，要识别实例连接。实例连接是一个示例与另一个实例的映射关系。

OOA在定义服务的同时要识别消息连接。当一个对象需要向另一个对象发送消息时，它们之间就存在消息连接。

OOA中的5个层次和5个活动继续贯穿在OOD（面向对象设计）过程中。OOD模型由4各部分组成。它们分别是设计问题域部分、设计人机交互部分、设计任务管理部分、和设计数据管理部分。

OOA方法的具体步骤
在用OOA具体分析一个事物时。大致上遵循如下5个基本步骤；
1，确定对象和类。这里所说的对象是对数据及其处理方式的抽象，它反映了系统保存和处理现实世界总某些事物的信息能力。。类是多个对象的共同属性和方法集合的描述，它包括如何在一个类中建立一个新对象的描述。

2，确定结构（structure）。结构是指问题域的复杂性和连接关系。类成员结构反映了泛华—特化关系，整体-部分结构反映整体和局部之间的关系

3，确定主题（subject）。主题是指事物的总体概貌和总体分析模型

4，确定属性（attribute）。属性就是数据元素，可用来描述对象或分类结构的实例，可在图中给出，并在对象的存储中指定。

5，确定方法（method）。方法是在收到消息后必须进行的一些处理方法：方法要在图中定义，并在对象的存储中指定。对于每个对象和结构来说，那些用来增加、修改、删除和选择一个方法本身都是隐含的（虽然它们是要在对象的存储中定义的，但并不在图上给出），而有些则是显示的。








## 协作图

## 状态迁移图

最常用的动态分析方法：

状态迁移图
时序图
Petri图



## 时序图

