# 非功能性需求分析

在上一节中，我们分析了来自学校的教职员工的各个不同层次的需求，使我们清楚地认识到了业务、用户、功能三个层次的需求的区别和联系。在本节中，我们将会做进一步的扩展，把上述三个层次形成的一维关系扩展为二维关系，以便能够更准确地把握需求。

$$
需求 = 功能需求 + 非功能需求 \\
非功能需求 = 质量属性 + 约束条件 \\

$$

质量属性包含很多内容，我们将会在后面的章节中专门介绍，在本节中重点介绍以下几点：
$$
质量属性=性能+安全+可靠+伸缩
$$

- 性能（Performance）
  
  比如，我们可以要求一个软件：

  - 用户登录响应时间不超过0.5秒；
  - 可以支持并发访问用户数至少10000个；
  - 系统至少可以存储100M的用户文件。

- 安全性（Security）
  
  安全性其实就是正反两个方面：

  - 指软件系统同时兼顾向合法用户提供服务
  - 以及阻止非授权使用的能力。

- 可伸缩性（Scalability）
  
  通常用于对服务器端软件的要求，比如
  
  ：指当用户数和数据量增加时，软件系统维持高服务质量的能力。例如，通过增加服务器来提高能力。

- 可靠性（Reliability）：软件系统在一定的时间内无故障运行的能力。





## ADMEMS 介绍

ADMEME（Architecture Design Method has been Extended to Method System）$^{[1]}$，是由CSAI顾问团架构设计专家组于2009年11月在第六届中国软件大会上公开发布的一个软件架构设计方法。作为方法体系，ADMEMS通过3个阶段和1个贯穿环节（对非功能目标的考虑），来覆盖“需求进，架构出”的架构设计完整工作内容。

其中“3个阶段”是指：

1. PA（Pre-Architecture）预备架构阶段：把握需求特点，确定架构驱动力；
2. CA（Conceptual Architecture）概念架构阶段：根据重大需求，确定概念架构；
3. RA（Refined Architecture）细化架构阶段：细化架构设计，关注不同视图。

大家可以看到所谓的PA阶段，实际是就是需求分析阶段，只不过在该方法中，把需求分析归结为架构设计的一部分。

另外，ADMEMS 把需求层次与需求方面结合起来，形成了一个二维的矩阵，见表7.2.1。

表7.2.1 - ADMEMS需求层次—需求方面矩阵表

|维度|广义功能需求|质量属性需求|约束因素需求|
|--|--|--|--|
|业务级|业务需求|预期质量|业务环境因素|
|用户级|用户需求|运行期质量|使用环境因素|
|开发级|功能需求|开发期质量|开发环境因素|

表7.2.1中的标题栏的后三个概念，可以在下面的多组公式中找到具体说明：

$$
\begin{aligned}
\small 广义功能需求 \small =& \small 业务需求 + 用户需求 + 功能需求 \\ 
\small 质量属性需求 =& \small预期质量 + 运行期质量 + 开发期质量  \\
\small 约束因素需求 =& \small业务环境因素 + 使用环境因素 + 开发环境因素
\end{aligned}
$$

其中：
$$
\small 开发环境因素= 构建环境因素 + 技术环境因素
$$


## 质量属性需求

### 预期质量 - 快、好、省
【slide】

对于业务级投资人、负责人等领导来说，预期的质量需求就是三个字：快、好、省。这和当年的“多快好省”经济发展总路线如出一辙，实践证明是不能兼顾的。

1. 快，可以理解为开发速度快，或者软件运行速度快。
2. 好，可以理解为开发质量好，或者软件功能好。
3. 省，可以理解为开发成本低，或者软件价格低。

悖论：
1. 速度又快、功能又好的产品，价格肯定不低，做不到省。
   
   比如说我们训练一个深度学习模型，如果用 GPU 的话，训练速度快，效果好，但是 GPU 的价格非常的昂贵。

2. 功能又好、成本又省的产品，不是开发周期长，就是运行速度慢。
   
   同样是训练一个深度学习模型，用 CPU 当然也可以完成任务，但是使用 GPU 可以一小时搞定的东西，用 CPU 却需要两天。

3. 速度又快、成本又省的产品，用膝盖想一想都能知道好不到哪里去。

   还是训练深度学习模型，为了便宜就用 CPU 搞，为了速度快就少训练几轮，那么最后的模型效果肯定不好。

### 运行期质量需求

- 性能（Performance）：性能是指软件系统及时提供相应服务的能力，包括速度、吞吐量和持续高速性三方面的要求。
- 安全性（Security）：指软件系统同时兼顾向合法用户提供服务，以及阻止非授权使用的能力。
- 易用性（Usability）：指软件系统易于被使用的程度。
- 可伸缩性（Scalability）：指当用户数和数据量增加时，软件系统维持高服务质量的能力。例如，通过增加服务器来提高能力。
- 互操作性（Interoperability）：指本软件系统与其他系统交换数据和相互调用服务的难易程度。
- 可靠性（Reliability）：软件系统在一定的时间内无故障运行的能力。
- 持续可用性（Availability）：指系统长时间无故障运行的能力，与可靠性相关联，常将其纳入可靠性中。
- 鲁棒性（Robustness）：是指软件系统在一些非正常情况（如用户进行了非法操作、相关的软硬件系统发生了故障等）下仍能够正常运行的能力，也称健壮性或容错性。

### 开发期质量

- 易理解性（Understandability）：指设计被开发人员理解的难易程度。
- 可扩展性（Flexibility）：软件因适应新需求或需求变化而增加新功能的能力，也称为灵活性。
- 可重用性（Resuability）：指重用软件系统或某一部分的难易程度。
- 可测试性（Testability）：对软件测试以证明其满足需求规范的难易程度。
- 可维护性（Maintainability）：当需要修改缺陷、增加功能、提高质量属性时，定位修改点并实施修改的难易程度；
- 可移植性（Portability）：将软件系统从一个运行环境转移到另一个不同的运行环境的难易程度。

## 约束因素
【slide】
### 业务环境因素

- 技术性约束
- 法规性约束
- 技术趋势
- 竞争因素与竞争对手
- 遗留系统集成
- 标准性约束
- 分批实施

### 使用环境因素

- 用户群特点
- 用户水平
- 多国语言

### 开发环境因素

- 开发团队技术水平
- 开发团队磨合程度
- 开发团队分布情况
- 开发团队业务知识
- 保密要求
- 产品规划
- 安装
- 维护
  
### 参考资料

- [1] 《软件架构设计》，温昱，电子工业出版社

