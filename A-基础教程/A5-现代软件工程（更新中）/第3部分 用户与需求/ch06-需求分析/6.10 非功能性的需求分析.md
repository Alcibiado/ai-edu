# 非功能性的需求分析

在上一节中，我们分析了来自学校的教职员工的各个不同层次的需求，使我们清楚地认识到了业务、用户、功能三个层次的需求的区别和联系。在本节中，我们将会做进一步的扩展，把上述三个层次形成的一维关系扩展为二维关系，以便能够更准确地把握需求。

$$
需求 = 功能需求 + 非功能需求  \tag{6.10.1}
$$
$$
非功能需求 = 模糊需求 + 质量属性 + 约束条件  \tag{6.10.2}
$$

## 模糊需求

模糊需求一般在业务需求层次提出，常见的就是三个字：快、好、省。

【slide】

对于业务级投资人、负责人等领导来说，预期的质量需求就是三个字：快、好、省。这和当年的“多快好省”经济发展总路线如出一辙，实践证明是不能兼顾的。

1. 快，可以理解为开发速度快，或者软件运行速度快。
2. 好，可以理解为开发质量好，或者软件功能好。
3. 省，可以理解为开发成本低，或者软件价格低。

悖论：
1. 速度又快、功能又好的产品，价格肯定不低，做不到省。
   
   比如说我们训练一个深度学习模型，如果用 GPU 的话，训练速度快，效果好，但是 GPU 的价格非常的昂贵。

2. 功能又好、成本又省的产品，不是开发周期长，就是运行速度慢。
   
   同样是训练一个深度学习模型，用 CPU 当然也可以完成任务，但是使用 GPU 可以一小时搞定的东西，用 CPU 却需要两天。

3. 速度又快、成本又省的产品，用膝盖想一想都能知道好不到哪里去。

   还是训练深度学习模型，为了便宜就用 CPU 搞，为了速度快就少训练几轮，那么最后的模型效果肯定不好。

## 质量属性（Quality Attribute）

质量属性包含很多内容，我们将会在后面的章节中专门介绍，在本节中重点介绍以下几点：
$$
质量属性=性能+安全+可靠+其它 \tag{6.10.3}
$$

质量属性的项目非常多，但通常我们都用下面三个主要的属性来衡量软件的质量，在公式中用“其它”来代表不常用到的属性。

- 性能（Performance）
  
  比如，我们可以要求一个软件：

  - 用户登录响应时间不超过0.5秒；
  - 可以支持并发访问用户数至少10000个；
  - 系统至少可以存储100M的用户文件。

- 安全性（Security）
  
  其实就是正反两个方面：

  - 向合法用户提供服务；
  - 阻止非授权使用。

- 可靠性（Reliability）
  
  软件系统在一定的时间内无故障运行的能力，比如：

  - 72小时小负载下可稳定运行；
  - 30分钟内的超负荷运行；
  - 4小时内负载从10%增加到100%的运行情况。
  
## 约束条件（Constraint）

【slide】

### 甲方 - 资源约束

客户总是会在下面几个问题上“斤斤计较”：

- 时间
  
  - 即软件开发完毕交付的时间，而且如果客户不懂得软件开发的规律，往往会要求在不可能的时间内一次性交付。
  - 而对于开发者来说，一定要争取宽裕的开发时间，通常是把预估的时间乘以2.比如预估3个月完成，那么就要和客户承诺6个月完成。
  - 在交付问题上，一次性地不可能搞定所有需求，至少需要3次以上的迭代，在没有新需求出现的前提下，才有可能完成。

- 金钱
  
  即开发、部署软件、后期宣传所需要的费用。

### 乙方 - 开发约束

- 开发团队技术水平
- 开发团队磨合程度
- 开发团队分布情况
- 开发团队业务知识

### 环境 - 技术约束

1.批准的技术清单
许多大型组织在开发之前 都会列出一个可以使用的技术清单 如果你需要使用清单上没有的技术 就需要申请

2.现有系统的互操作性
会规定在整合已有系统的时候可以使用的协议和技术

3.目标部署平台
构建一个全新的系统是 目标部署平台是影响技术决策的主要因素之一
举个例子 每个平台提供的都不同 对于某些东西 比如本地磁盘操作 你的软件能做什么 不能做什么 能做的次数 每个平台都不同 所以这是一个技术约束

4.技术成熟度
有些组织喜欢采用有风险的尖端技术 而有些组织则比较保守

5.开放源代码
有些组织不喜欢用开源项目 而有些组织喜欢 这就产生了 可不可以使用开源项目 或者 开放源代码的技术约束

6.供应商关系
有些合作是在一些复杂的关系中产生的 所以有时候不得不被迫使用一些技术
比如一个老总请 你的负责人 喝酒 喝醉了 然后就达成了合作 让你们团队 使用这个老总的技术 这就长生了技术约束。。。

7.过去的失败
如果一个公司 以前使用过一个东西 而且失败了 那么他可能会不使用这个技术 这也产生了技术约束

8.内部知识产权
你的组织内部 已经有关于某项技术的知识产权 即使有更合适的技术 可能规定你只能使用这一技术。。。

### 业务 - 政策约束

- 行业标准
- 政策法规
  
  举两个例子：
  - 微软对用户的隐私问题非常的重视，所以在任何系统中，都不能保存能够反向映射到一个自然人的用户日志；
  - 中国对地图数据的安全性有要求，不能存放在中国境外的服务器上。所以当年笔者得到了一个进入微软做国内地图数据处理的工作机会。





另外，ADMEMS 把需求层次与需求方面结合起来，形成了一个二维的矩阵，见表7.2.1。

表7.2.1 - ADMEMS需求层次—需求方面矩阵表

|维度|广义功能需求|质量属性需求|约束因素需求|
|--|--|--|--|
|业务级|业务需求|预期质量|业务环境因素|
|用户级|用户需求|运行期质量|使用环境因素|
|开发级|功能需求|开发期质量|开发环境因素|

表7.2.1中的标题栏的后三个概念，可以在下面的多组公式中找到具体说明：

$$
\begin{aligned}
\small 广义功能需求 \small =& \small 业务需求 + 用户需求 + 功能需求 \\ 
\small 质量属性需求 =& \small预期质量 + 运行期质量 + 开发期质量  \\
\small 约束因素需求 =& \small业务环境因素 + 使用环境因素 + 开发环境因素
\end{aligned}
$$

其中：
$$
\small 开发环境因素= 构建环境因素 + 技术环境因素
$$






  
### 参考资料

- [1] 《软件架构设计》，温昱，电子工业出版社

